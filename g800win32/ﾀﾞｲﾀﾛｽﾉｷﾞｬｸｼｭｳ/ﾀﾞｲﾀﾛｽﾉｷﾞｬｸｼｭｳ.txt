 ORG 100H
 LD HL,PLV
 LD DE,LV
 LD BC,33
 LDIR
 CALL GROR
 CALL GRO
 LD B,5
 LD DE,GROE1+66
LOOP1:PUSH BC
 LD HL,KAMI
 LD BC,8
 LDIR
 LD HL,136
 ADD HL,DE
 PUSH HL
 POP DE
 POP BC
 DJNZ LOOP1
 LD DE,GROE6+54
 LD C,36
 LD HL,SHIN
 LDIR
 CALL GRO
 LD B,7
TIM:PUSH BC
 LD A,0A6H
 PUSH AF
 OUT (40H),A
 LD A,45
 CALL TIMER
 POP AF
 INC A
 OUT (40H),A
 LD A,45
 CALL TIMER
 POP BC
 DJNZ TIM
 LD B,5
 CALL GRD
 LD B,16
 LD DE,0004H
 LD HL,TITL
 CALL 0BFF1H
 LD B,5
 LD DE,020AH
 LD HL,TIT1
 CALL 0BFF1H
 LD B,7
 LD DE,030AH
 LD HL,TIT2
 CALL 0BFF1H
 LD HL,AD1;ONEND
 LD (0F0H),HL
 LD DE,0208H;CURS²Á
 LD (0F2H),DE
 LD BC,0203H
 LD (0F4H),BC;CURS¹ÞÝ¶²
 CALL CURP
AD1:CALL 48381
 PUSH AF
 CALL CURD
 POP AF
 PUSH AF
 CALL CURS
 CALL CUR1
 CALL CURP
 POP AF
 XOR 28H
 JR Z,STR
 JP ONEND
STR:LD DE,(0F2H)
 LD A,D
 XOR 2
 JR Z,START
LOAD:LD A,(SAVE)
 CP 30
 JR NC,START
 OR 0
 JR Z,START
 LD HL,SAVE
 LD DE,LV
 LD BC,32
 LDIR
START:CALL GROR
 LD B,6
 CALL GRD
 LD DE,GROE1
 LD BC,42
 LD HL,MAPF1
 LDIR
 LD DE,GROE2
 LD C,6
 LD HL,MAPF2L
 LDIR
 LD DE,GROE2+36
 LD C,6
 LD HL,MAPF2R
 LDIR
 LD DE,GROE3
 LD B,3
LOOP2:PUSH BC
 LD BC,42
 LD HL,GROE2
 LDIR
 LD HL,102
 ADD HL,DE
 EX DE,HL
 POP BC
 DJNZ LOOP2
 LD DE,GROE6
 LD C,42
 LD HL,MAPF3
 LDIR
 LD DE,GROE1+95
 LD C,46
 LD HL,MESF1
 LDIR
 LD DE,GROE6+95
 LD C,46
 LD HL,MESF3
 LDIR
 CALL GRO
 LD DE,0110H
 LD B,8
 LD HL,MESW1
 CALL 0BFF1H
 LD DE,0208H
 LD B,16
 LD HL,MESW2
 CALL 0BFF1H
 LD DE,0308H
 LD B,16
 LD HL,MESW3
 CALL 0BFF1H
 LD DE,0408H
 LD B,16
 LD HL,MESW4
 CALL 0BFF1H
MPL:LD A,(FL)
 LD B,A
 LD HL,MPD1X
 DJNZ MPC
 JR MPBL
MPC:PUSH BC
 LD DE,128
 ADD HL,DE
 POP BC
 DJNZ MPC
MPBL:LD (0F0H),HL
 LD B,16
 LD DE,MX
MPBLL:PUSH BC
 PUSH HL
 EX DE,HL
 LD (HL),255
 EX DE,HL
 INC DE
 LD BC,8
 POP HL
 LDIR
 POP BC
 DJNZ MPBLL
 RET
TIMER:;A:¼Þ¶Ý
 LD BC,0
T1:INC BC
 DB 0,0,0,0,0
 XOR B
 RET Z
 JR T1
GRD:LD D,B
 DEC D
LOOP3:PUSH BC
 LD E,0
 LD B,144
 LD HL,GRD2
 CALL 0BFD0H
 LD A,25
 CALL TIMER
 DEC D
 POP BC
 DJNZ LOOP3
 LD D,0
 RET
CURS:CP 1FH
 JR Z,DOWN
 CP 20H
 JR Z,UP
 CP 21H
 JR Z,LEFT
 CP 22H
 JR Z,RIGHT
 RET
UP:LD A,(0F3H)
 DEC A
 LD (0F3H),A
 RET
DOWN:LD A,(0F3H)
 INC A
 LD (0F3H),A
 RET
LEFT:LD A,(0F2H)
 DEC A
 LD (0F2H),A
 RET 
RIGHT:LD A,(0F2H)
 INC A
 LD (0F2H),A
 RET
CURP:LD DE,(0F2H)
 LD B,6
 LD HL,CURG
 CALL 0BFD0H
 RET
CURD:LD DE,(0F2H)
 LD B,6
 LD HL,GRD2
 CALL 0BFD0H
 RET
CUR1:LD BC,(0F4H)
 LD DE,(0F2H)
 LD A,D
 CP B
 CALL C,PLUS
 LD A,C
 CP D
 CALL C,MINUS
CUR1LR:LD A,8
 LD (0F2H),A
 RET
PLUS:LD D,3
 LD (0F2H),DE
 RET
MINUS:LD D,2
 LD (0F2H),DE
 RET
GRO:LD B,6
 LD HL,GROE1
 LD D,0
LOOP4:PUSH BC
 LD E,0
 LD B,144
 CALL 0BFD0H
 INC HL
 INC D
 POP BC
 DJNZ LOOP4
 RET
GROR:LD HL,GROE1
 LD (HL),0
 LD DE,GROE1+1
 LD BC,863
 LDIR
 RET
MG1:LD DE,0201H
 JR M1
MG2:LD DE,0202H
 JR M1
MG3:LD DE,0203H
M1:LD B,6
 LD HL,KB1
 CALL 0BFD0H
 RET
MG4:LD B,3
 LD DE,0101H
 LD HL,KB3L1
LPM4:PUSH BC
 LD E,1
 CALL M2
 LD BC,13
 ADD HL,BC
 INC D
 POP BC
 DJNZ LPM4
 RET
MG5:LD B,3
 LD DE,0102H
 LD HL,KB3R1
LPM5:PUSH BC
 LD B,18
 LD E,2
 CALL 0BFD0H
 INC HL
 INC D
 POP BC
 DJNZ LPM5
 RET
MG6:LD B,3
 LD DE,0105H
 LD HL,KB3R1
LPM6:PUSH BC
 LD E,5
 CALL M2
 LD BC,13
 ADD HL,BC
 INC D
 POP BC
 DJNZ LPM6
 RET
M2:LD B,6
 CALL 0BFD0H
 RET
MG7:LD B,3
 LD DE,0102H
 LD HL,KB2L1
LPM7:PUSH BC
 LD E,2
 CALL M2
 INC HL
 INC D
 POP BC
 DJNZ LPM7
 RET
MG8:LD B,3
 LD DE,0104H
 LD HL,KB2R1
LPM8:PUSH BC
 LD E,4
 CALL M2
 INC HL
 INC D
 POP BC
 DJNZ LPM8
 RET
MG9:LD B,4
 LD DE,0101H
 LD HL,KB4L1
LPM9:PUSH BC
 LD E,1
 CALL M2
 INC HL
 INC D
 POP BC
 DJNZ LPM9
 RET
MG10:LD B,4
 LD DE,0105H
 LD HL,KB4R1
LPM10:PUSH BC
 LD E,5
 CALL M2
 INC HL
 INC D
 POP BC
 DJNZ LPM10
 RET
ONEND:;HLÊ¤ÓÄÞÙ±ÄÞÚ½
 CALL 0BE53H
 XOR 51H
 RET Z
 LD HL,(0F0H)
 JP (HL)
GRD2:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE1:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE2:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE3:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE4:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE5:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
GROE6:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
KAMI:DB 00H,00H,00H,04H,08EH,0DBH,071H,020H
SHIN:DB 0H,090H,0F7H,09BH,0F7H,09BH,0F7H,09BH
 DB 0F7H,09BH,0F7H,09BH,0F7H,09BH,0F7H,09BH,0F7H
 DB 09BH,0F7H,09BH,0F7H,09BH,0F7H,09BH,0F7H,09BH
 DB 0F7H,09BH,0F7H,09BH,0F7H,09BH,0F7H,090H,0H,0H
TITL:DB 0C0H,0DEH,0B2H,0C0H,0DBH,0BDH,20H,0C9H
 DB 20H,0B7H,0DEH,0ACH,0B8H,0BCH,0ADH,0B3H
TIT1:DB 53H,54H,41H,52H,54H
TIT2:DB 43H,4FH,4EH,54H,49H,4EH,45H
MESW1:DB 7CH,20H,20H,20H,20H,20H,20H,7CH
MESW2:DB 4DH,3AH,0D2H,0C6H,0ADH,2DH,20H,20H
 DB 7CH,20H,20H,20H,20H,20H,20H,7CH
MESW3:DB 49H,3AH,0BCH,0D7H,0CDH,0DEH,0D9H,20H
 DB 7CH,20H,20H,20H,20H,20H,20H,7CH
MESW4:DB 44H,3AH,0C3H,0DEH,2DH,0C0H,20H,20H
 DB 7CH,20H,20H,20H,20H,20H,20H,7CH
CURG:DB 0H,1CH,2AH,55H,2AH,1CH
MAPF1:DB 0,0,0,0E0H,10H,0A0H,0F8H,0D4H,0ACH,0F8H,0C0H
 DB 0E0H,0F0H,0F4H,0AAH,0FCH,0F4H,0EAH,0D8H,0E4H
 DB 0C6H,0CAH,0E4H,0D8H,0EAH,0F4H,0FCH,0AAH,0F4H,0F0H
 DB 0E0H,0C0H,0F8H,0ACH,0D4H,0F8H,0A0H,10H,0E0H,0,0,0
MAPF2L:DB 0,3CH,42H,0BDH,66H,0FFH
MAPF2R:DB 0FFH,66H,0BDH,42H,03CH,0
MAPF3:DB 0,0,0,7H,8H,5H,1FH,2BH,35H,1FH,3H,7H,0FH,2FH
 DB 55H,3FH,2FH,57H,1BH,27H,63H,53H,27H,1BH,57H,2FH,3FH,55H
 DB 2FH,0FH,7H,3H,1FH,35H,2BH,1FH,5H,8H,7H,0,0,0
MESF1:DB 0,0,0,0E0H,20H,20H,20H,20H,20H,20H,20H,20H,20H
 DB 20H,20H,20H,20H,20H,20H,20H,20H,20H,20H,20H,20H
 DB 20H,20H,20H,20H,20H,20H,20H,20H,20H,20H,20H,20H
 DB 20H,20H,20H,20H,20H,20H,20H,20H,0E0H,0,0
MESF2:DB 0,0,0,0FFH
MESF3:DB 0,0,0,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4
 DB 4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7
KB1:DB 7FH,45H,45H,49H,49H,7FH
KB2L1:DB 0FCH,88H,10H,20H,40H,80H
KB2L2:DB 0FFH,40H,21H,21H,92H,7FH
KB2L3:DB 0FH,4H,2H,1H,0,0
KB2R1:DB 80H,40H,20H,10H,88H,0FCH
KB2R2:DB 7FH,92H,21H,21H,40H,0FFH
KB2R3:DB 0,0,1H,2H,4H,0FH
KB3R1:DB 0FEH,42H,42H,42H,42H,42H,42H,42H,0C2H,0C2H,42H,42H
KB3L1:DB 42H,42H,42H,42H,42H,0FEH
KB3R2:DB 0FFH,80H,80H,80H,80H,80H,80H,80H,0FFH,0FFH,80H,80H
KB3L2:DB 80H,80H,80H,80H,80H,0FFH
KB3R3:DB 1FH,10H,10H,10H,10H,10H,10H,10H,10H,10H,10H,10H
KB3L3:DB 10H,10H,10H,10H,10H,1FH
KB4L1:DB 10H,10H,20H,20H,41H,0FEH
KB4L2:DB 0,0,0,0,80H,0FFH
KB4L3:DB 02H,02H,81H,41H,20H,1FH
KB4L4:DB 02H,01H,0,0,0,0
KB4R1:DB 0FEH,41H,20H,20H,10H,10H
KB4R2:DB 0FFH,80H,0,0,0,0
KB4R3:DB 1FH,20H,41H,81H,02H,02H
KB4R4:DB 0,0,0,0,01H,02H
MAPM:DS 10
MPD1X:DB 1,1,1,1,1,1,1,1,1,1,4,1,4,1,0,1
 DB 1,1,1,1,0,0,0,0,0,1,3,0,1,1,0,4
 DB 0,0,0,1,1,1,1,1,0,1,1,1,1,0,0,1
 DB 1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1
MPD1Y:DB 1,0,1,1,1,1,1,1,4,0,0,1,2,0,0,0
 DB 0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0
 DB 0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0
 DB 0,1,1,4,0,1,0,0,4,1,1,1,0,1,0,0
PLV:DB 1
PHP:DB 15
PMHP:DB 15
PMP:DB 3
PMMP:DB 3
PAP:DB 5
PDP:DB 5
PES:DB 1
PET:DB 1
PEA:DB 1
PEAP:DB 45
PEDP:DB 25
PST:DB 0
PITEM:DB 0,0,0,0,0,0,0,0,0,0,0
 DB 255
PFL:DB 1
PX:DB 0
PY:DB 0
PG:DB 200,0
PEX:DB 0,0
PURDL:DB 1
LV:DB 0
HP:DB 0
MHP:DB 0
MP:DB 0
MMP:DB 0
AP:DB 0
DP:DB 0
ES:DB 0
ET:DB 0
EA:DB 0
EAP:DB 0
EDP:DB 0
ST:DB 0
ITEM:DB 0,0,0,0,0,0,0,0,0,0,0,0
FL:DB 0
X:DB 0
Y:DB 0
G:DB 0,0
EX:DB 0,0
URDL:DB 0
MX:DS 72
MY:DS 72
 DB 255
SAVE:DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAP:DB 0
NDP:DB 0
THP:DB 0
TMHP:DB 0
TMP:DB 0
TMMP:DB 0
TAP:DB 0
NTAP:DB 0
TDP:DB 0
NTDP:DB 0
